<h1>The Friend Survey</h1>
<form>
  <label for="userName">Name</label>
  <br>
  <input type="text" name="userName" id="userName" required>
  <br>

  <label for="photoUrl">Photo Link</label>
  <br>
  <input type="url" placeholder="https://mypic.com" name="photoUrl" id="photoUrl">
  <br>

  <label for="pets">Pet Lover</label>
  <br>
  <input type="range" id="pets" name="pets" min="0" max="5" />
  <br>

  <label for="outdoorsy">Outdoorsy</label>
  <br>
  <input type="range" id="outdoorsy" name="outdoorsy" min="0" max="5" />
  <br>

  <label for="outgoing">Outgoing</label>
  <br>
  <input type="range" id="outgoing" name="outgoing" min="0" max="5" />
  <br>

  <label for="upset">People can rarely upset you.</label>
  <br>
  <input type="range" id="upset" name="upset" min="0" max="5" />
  <br>

  <label for="curious">You rarely do something just out of sheer curiosity.</label>
  <br>
  <input type="range" id="curious" name="curious" min="0" max="5" />
  <br>

  <label for="introvert">You feel more energetic after spending time with a group of people.</label>
  <br>
  <input type="range" id="introvert" name="introvert" min="0" max="5" />
  <br>

  <label for="creative">You rarely get carried away by fantasies and ideas.
  </label>
  <br>
  <input type="range" id="creative" name="creative" min="0" max="5" />
  <br>

  <label for="relaxed">You are easy going.</label>
  <br>
  <input type="range" id="relaxed" name="relaxed" min="0" max="5" />
  <br>

  <label for="family">You are close with your family</label>
  <br>
  <input type="range" id="family" name="family" min="0" max="5" />
  <br>

  <label for="friends">You have lots of friends</label>
  <br>
  <input type="range" id="friends" name="friends" min="0" max="5" />
  <br>
  <input type="submit" class="btn-primary">
</form>

<script>
  $('.btn-primary').click(function (e) {
    console.log("clicked")
    e.preventDefault()
    var data = {
      "userName": $("#userName").val(),
      "photoUrl": $("#photoUrl").val(),
      "pets": $("#pets").val(),
      "outdoorsy": $("#outdoorsy").val(),
      "outgoing": $("#outgoing").val(),
      "upset": $("#upset").val(),
      "curious": $("#curious").val(),
      "introvert": $("#introvert").val(),
      "creative": $("#creative").val(),
      "relaxed": $("#relaxed").val(),
      "family": $("#family").val(),
      "friends": $("#friends").val(),
    }
    $.ajax({
      url: '/api/friends',
      method: 'post',
      data: data,
      success: function (res) {
        $('#myModal').modal('show')
        $(".modal-body").empty()         // initializes and invokes show immediately
        $(".modal-body").append(`Their Name is ${res.bestMatchName}! <br>`)
        $(".modal-body").append(`Here is their picture <br><img src=${res.bestMatchPic ? res.bestMatchPic : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAdVBMVEXMzMxLS0v////Ozs7R0dHGxsbJycnQ0NBISEhGRkY/Pz8+Pj5DQ0PExMT7+/vx8fHa2trr6+vg4OD09PS7u7uqqqqDg4N0dHQ5OTm0tLTl5eVlZWVsbGyLi4t9fX02NjZdXV2Xl5egoKCdnZ1VVVWRkZGIiIhSbCBwAAAMmElEQVR4nNWdebuqOAyHK5R9UXEBl6Mej97v/xGnrCIWKEmqzu+vmeeZ8fLepEmabsx4j+LVaj5fJoX2y/l8tXrTH2wwzb8fL5eLhWnZUWTnYrnyf7Aiy7b4IlnOY81foJFwniyY4CipepSzWmayn+v7DD2E8X5hR8NsHdDISZZ6rElPGC8XlqUO18KMWKLBlsSEq8QE0TWUFt8Tm5KScJXYFoKugXT2hB9FRxgnjACvgoz4kuq7qAjnHOWcEkhrQZQxSQgTYrxSlkliSDxhvNDCl8u2k88TrjjZ6JMyWmhGHKFmvkIRkhFDGL+BLxfOjgjCxXv4WO6riAwJJkzexlcw2uB6Dkg4n1BW08jiwGoORvg+B20zwlwVQrj8BJ+QzSBlznTCmL/bQR+CRNXJhJ8yYCnbnmzGqYRvSoH9iqaOxmmEq885aCObayTcf9qApaxJnjqFcPEFFiw0KW+oE8bsWwAF4kID4fw7PLSSrW4Z1f/ys0lCIlu1iFMkfG+drSRLsRZXI/yaGNOWpdbGUSL8YJ02JLWQqkLofCegYpmqQPi1gGqI44TmpzGGpNBuHCV0aD7FNB2HN3Icx6T5mxu34hghgYuaAs1cb/7u2zRNj8djmp7+/W7WTIASUI4ijhBio6igc9a/p0sQhGHouZU8Lwz94Hb6WwtKNOJIRB0mROZBk9vXdBYItJlErhcGs9PG4UhLjqT+QcIEAyjMt0nDUAr3kOe72zXSkMOIQ4SoWtQxf2f+CF4FGRw2OEZrqEYdIFwhAAWfG6rglf4aXHYoX7VBhDHcRU2+manzlYzHiCMQBzob/YTwP86JjsEkvpLxjjCj3T8l7iWEh1F+HQsvcoWXCD4a+ycafYR7KKDJT9MNWJkx3MA9tTfa9BCCo4xpX6aNwCcFP4jBOI0QakEnunlwwNnMT8GDsW8oygmhg9CMZqAh+FB4BCP2JH4pIbSvZlpYwAIRSMgsdUIoILuhAQViCkaUZkUZIfRP4AfUGKzl/4N+gC2bZkgIoeUo/4eIom0FVyiiLGVICIGAzgaaB1/kr6HRRuKnr4QL2G+bjGAMVnJv0OJGUtq8EEJzPT+RDMJS4Qnsp+OEwF82d2Q+mivYAa342nzrEi6BuZ5f6Jx0lvspWbDpEoLDjE8JKPz0FzoUu8GmQwjtzHCKXP+MyIDxtFu8PRPG32JCQQieZphDhMBMIaoZahMijGgv+wmhJjTXpIG0IgSPRNZPCDWh848wF9aCh9NnI7YJ4wj4k5yeT8jfQI1o9xFCTajFSYURwdOoJyO2CaG9GedONKnoyAcPREdOCF6l0BFJc4VgN23nxBYhuIlv6jHhzNtSzPYfhPAO6Zo83ZdyL/CWTSwhhP6YKGg02RCe9BlLXgnhK03Ory7CADzXb80TG0Joqsj7MxryfaFwByZ8JIyGEJrtBeFWGyE4mLYSRk0InflqJoSvtzWxpiZErDI7d12EPtxLH+2MihBckrIvjTSsmWEwZD2TE151EfoRgrDe787QTspMjfkQo6RNCJ36loS6aprZDLN5oXZThqvYCkJbkw3dA4qwiqYlIe7vSs8EWFTe4M53oWolqiTE7VPnR02zpztuNxh/EM5xG/R0pXxMSZPLehAmqB9izp+egRhgkoVQeXaYoSZOpcydnmAa4sJDlS8YruouCW09nShcKGVV95vhqu5S9KsWuRBNjEpRTYgchoIw1UEYXrE7pIuByNDZkOmqvXF1d0GYVITIYagr1Lj4gxC8JMTsBa4RNdjQhW+OamSVhOhAo2l1DVnR5IpKQnSg0TPNx0zwa+WhhhEEGmFDDVVNiA40Zahh6IqG5XsSdYxDeMf7oUVBiA6lmkpvH50Pi6qGEYRSXVUbgRHtnBAfSrXNLfAjMYoFIaqDUehbZ8Cs6GQwxIJFLV3rhwQ5315SEGpaxs9FQ4ivu7X1S32LoPZmyC4U09nVh+8VbrQQhPhQ+vONKzMtQrQNv3P9sP44g2FWnf4HhKbBVmhCLbvaKkJ8yheE+EijaUsUSaSxBCE+0nzn+mEp22DIjj7T1xCezTz85IKG0NK1JwrdEiYi1NQQFiYEH/EiJ/zStSc6QpN+p34h+P5SakLGtXgpcgm4IaS47NH50dLVJ2gnFoQEN7FpiaYUkbTM+BR3zZEdH22JxIR51YavvBnt8cpKJKOw8FL87CmXs8loAd0ZzVVZnGIGXP7SltZP/TXNJWMkM+BS/EiJGCDuAHkSSRejlGke6BDJAAtCfL+0lMlTsuJtTQVo7wkJBSIRH34TRqOiX4q6suxJVBU4xdpoJWtFsm5Ri2oqTLBFoVaxbkFReleicVOiXF/IylfXUPuDn0XjphTTwlrFCilVQmRUbhoQ3pjKC0LKHyQoT+FHR19V7VQgSxc0borfzvZQfvqJIW+4fBaFm+KX1B7Kz1ww9B7oJ+GjKc3Et1JEtXPvIbybIi4aeJVTERLaEO+m2M3dT1pUhIShBu2mJDuhahXHLBn2xExHWDf1fgidNIorQpJmVCWsmxLsEnrIbvbqUz7tgE36hE5aDMOSkHQgotyUcGpYH3xi6KNrHeHclHBqWB9eY+jjh12hoinBmmhLrbNrlD+LcVNSJy2HYUVIsNW7EeZuutCmjKTzFiFlaYrYuA+/30um6OmkM+VAhBsRcdOHRIsnQsp8Ad5RG94pTVjfjFERkr7IBTWiS/RuSan6dpP65gHS13JgRiSdNzVO2hCSuqm5hixhgK9llap5XrcmpKy+YVmfsk3KWne2NffTkD565AC8lLLHxlrXKDWEpLUp5JYF0gZNOTV8JqRMiWYEqb7B9yTK9LjO7EFIGGvMHSTSUJZsrXsFH4SEEwzY7n3SmZMhIaQ4h1gJdrab4tBopfb18y1CurrGAfCRhpr2rd7tuy+pnAQ6zadrlSY9hARHngtB58BkbhoZPYRkG0/A207INtH0EdIYEX4OKvwjMeLzteyde5MpBIszpUjmT89P6jwTUhiRIw6YkLQxOs8jdG6dJzg9HWE2fxE09buvI3QI8ZMo3AUS8Eu8G3VfuOi+jYD9A/gdtzIDf7ujkt19paRLiKxOHfRDHsEvDrHzboDkjRLUvgUH1L7oIKJ2Xtb3QQ4QYtK+E7kEG2qCHQLx9fG1V0J4Ae6sKQBRVpQ8TCZ57wn8yMUO9rKjBBH6pJXsnUfZq2QgI5r8j+7igeAH9oKe7OE1GSHkWTLHTClvVgiPNqD4kD6eJ307b7Kf5o/H0p7Q82bT38+Vv0Uqf+FxWjw1eURqwFLBiU00o/wRSznhlOLN5NY20HKrYPjrTGHsefa45x1S5bxvcnvrazuPP/tTZ3zN9YOEipMMk7OfUBdfxaj4ZLf0dcchQqWh6LB7qOssfsN4u6ow2r3vVvcSjg9Fx5nyujhYrn9TeXq9j2PgXe6RrOjwv4mviyMYL2OMA+/HD7weP/QosMOv7+JrGAfSY89TwGOE/bNhh29ub+QrGINDfwnQG2XGCHuijShgLr6eWxRgjANPx48RxhJEk+8+wVcyHtcSxv4wOk742tMQfActBYwqY/rK+NK3mEJoPN9AZPL18YN8csaeYk2VsD3j/wK+gjFLoxbjGOAoYYMo+NIv4Mvl+aeGcRRwnLBEFBOkU6CzAJ0mz99aBaPdn+nVCQViMUH6Hr5cXrC1uYIFlQiN+XqrdQIBkxduVQCVCI35uysYJWVblW9XIzQMwtsEqHT+U/t0RULjpO2OUqDOa8UvVyU0rudPM7XlZsOlGoTQiM7fkQ1zhTNp4xBJaCTvnBEOKkjH0yCE0Ig1dEUhOl8nfPQkwnwwft5TPX9kMoEiNBbv6D0NKjj29EWJCI34RHwh1DS5583ED55MKGKq/zkzBpehjgwVobE6fWg0utlkA8IIxf/0kdGYHdSTIJbQMO5vN2MY7GCfCiQ0kkP2Tkb3/DMhyZMQiogze1v+d7NjMv5B5ISGsfO0PUD6zHeZluPpCA1jE2pndLObdAPCmwiNeJNpbYALvmj8K3QSCm1cbU1GLzsotWI0E4qYczjryI9hdhpcclEUBaEoyH/OxM7qBd51YFFwgmgIxYDcCUNSQbp+dsK7ZyUqQqH95pIRQLr++bieOEMaEiGh0P56O6N214TB+bij8c5atIRCy13qZ5AWuev5mfsvIrReKXLCXItN6mX+BI/1hO1u/3bw0mxAWghz7df3Q5YFYTi4b9j1Qj/L/PR3aDcFTtoIC+3tzb/0FmRB4IdCnlvKy//FDwTaJf3dcW1whfQSloqX3Nxt/u4/20Oh9N/997pZOwvyMSfTOwg/q/8AltL6UrZN6dEAAAAASUVORK5CYII="} style="max-height:100px; max-width:100px"/> <br>`)
        $(".modal-body").append(`Only ${res.bestMatchDiff} points difference!`)

      }
    })
  })

</script>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Your Match is in!</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="text-align: center">

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>